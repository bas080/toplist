{"mappings":"A,I,E,A,W,iB,C,A,C,E,E,Q,A,E,Q,S,C,C,C,E,O,c,C,E,O,C,U,C,I,I,E,I,K,E,W,C,E,a,C,C,G,I,E,E,QCEA,OAAM,UAAyB,MAAO,CAI/B,eAAe,EAAQ,CAAU,CAAE,CAAO,CAAE,CAAM,EACvD,GAAI,IAAY,EACd,OAGF,IAAM,EAAY,CAAU,CAAC,EAAQ,CAErC,GAAI,AAAA,CAAA,EAAA,EAAA,KAAI,AAAJ,EAAM,GACR,MAAM,IAAI,EAAiB,CAAC,yBAAyB,EAAE,EAAQ,eAAe,EAAE,EAAO,QAAQ,CAAC,EAGlG,OAAO,EAAQ,EAAY,MAAM,EAAU,GAAS,EACtD,C","sources":["<anon>","migrate.mjs"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire554f\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"hCNrh\", function(module, exports) {\n\n$parcel$export(module.exports, \"migrate\", () => $83cc70c08645bbb6$export$ce7f407e15fce6b5);\n\nvar $9oYre = parcelRequire(\"9oYre\");\nclass $83cc70c08645bbb6$var$MissingMigration extends Error {\n}\nasync function $83cc70c08645bbb6$export$ce7f407e15fce6b5(migrations, current, target) {\n    if (current === target) return;\n    const migration = migrations[current];\n    if ((0, $9oYre.isNil)(migration)) throw new $83cc70c08645bbb6$var$MissingMigration(`No migration defined for ${current}. Migrating to ${target} failed.`);\n    return $83cc70c08645bbb6$export$ce7f407e15fce6b5(migrations, await migration(target), target);\n}\n\n});\n\n\n//# sourceMappingURL=migrate.e9ada73f.js.map\n","import { isNil } from './util.mjs'\n\nclass MissingMigration extends Error {}\n\n// Takes two semver strings. The current version and the target one. It then\n// runs the associated migration callbacks till one returns the done symbol\nexport async function migrate(migrations, current, target) {\n  if (current === target) {\n    return;\n  }\n\n  const migration = migrations[current]\n\n  if (isNil(migration)) {\n    throw new MissingMigration(`No migration defined for ${current}. Migrating to ${target} failed.`)\n  }\n\n  return migrate(migrations, await migration(target), target)\n}\n"],"names":["parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","Object","defineProperty","get","$83cc70c08645bbb6$export$ce7f407e15fce6b5","set","s","enumerable","configurable","$9oYre","$83cc70c08645bbb6$var$MissingMigration","Error","migrations","current","target","migration","isNil"],"version":3,"file":"migrate.e9ada73f.js.map"}